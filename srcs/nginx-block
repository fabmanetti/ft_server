server {
	# IPv4 port
	listen 80 ;
	listen [::]:80; #ipv6
	# SSL port
	listen 443 ssl;
	listen [::]:443 ssl;

	# SSL configuration
	ssl on;
	ssl_certificate     /etc/ssl/certs/nginx-selfsigned.crt;
	ssl_certificate_key /etc/ssl/private/nginx-selfsigned.key;
    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers         HIGH:!aNULL:!MD5;
	
	# Error 400 : Bad Request fix
	error_page 497 https://$server_name:443$request_uri;

	# Set root directory
	root /var/www/;
    index index.php index.html index.htm;

    server_name localhost;

	# Server location blocks 
    location / {
        autoindex on;
    }
        
    location /wordpress {
        alias  /var/www/wordpress;
    }

    location /phpmyadmin {
        alias /var/www/phpmyadmin;
    }

	# Communication between HTTP and PHP script
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php7.3-fpm.sock;
    }
}